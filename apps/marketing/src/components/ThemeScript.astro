---
/**
 * Inline script to sync dark/light mode with the main app.
 * Reads from localStorage (same key as the SPA) to avoid flash.
 */
---

<script is:inline>
  (function () {
    var saved = localStorage.getItem('themeMode');
    if (saved === 'dark') {
      document.documentElement.classList.add('dark');
    } else if (!saved && window.matchMedia('(prefers-color-scheme: dark)').matches) {
      document.documentElement.classList.add('dark');
    }
  })();
</script>
